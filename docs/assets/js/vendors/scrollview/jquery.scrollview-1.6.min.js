/*!
 * scrollview.js alpha v1.6
 * @copyright 2018 AJgarden
 * ##### Author: Jia #####
 * ##### Update: 2018/12/10 #####
 */
$.fn.scrollView=function(s){var e=$(this);if("destroy"===s)e.removeAttr("data-scroll-view");else{e.attr("data-scroll-view","init");var n=$.extend({},{start:"default",end:null,endKey:"bottom",threshold:-200,addClass:"scroll-view",repeat:!1,onInit:function(s){return!1},onChange:function(s){return!1},onAddClass:function(s){return!1},onRemoveClass:function(s){return!1}},s);e.each(function(s,e){var o=$(e);n.onInit.call(this,o)}),$(window).on("scroll",function(){var s=$(window).scrollTop();e.each(function(o,t){if("init"===e.attr("data-scroll-view")){var a=$(t);if(0==a.hasClass(n.addClass)){if("default"===n.start)var l=a.offset().top-$(window).height();else if("string"==typeof n.start)l=$(n.start).offset().top-$(window).height();else l=n.start;if(1==n.repeat)if(null!=n.end){if("string"==typeof n.end)if("top"==n.endKey)var d=$(n.end).offset().top-$(window).height();else if("number"==typeof n.endKey)d=$(n.end).offset().top+$(n.end).outerHeight()*n.endKey-$(window).height();else d=$(n.end).offset().top+$(n.end).outerHeight()-$(window).height();else d=n.end;s+n.threshold>=l&&s+n.threshold<=d&&("function"==typeof n.onChange&&"function"==typeof n.onAddClass?(a.addClass(n.addClass),n.onAddClass.call(this,a),n.onChange.call(this,a)):"function"==typeof n.onChange?(a.addClass(n.addClass),n.onChange.call(this,a)):"function"==typeof n.onAddClass?(a.addClass(n.addClass),n.onAddClass.call(this,a)):a.addClass(n.addClass))}else s+n.threshold>=l&&("function"==typeof n.onChange&&"function"==typeof n.onAddClass?(a.addClass(n.addClass),n.onAddClass.call(this,a),n.onChange.call(this,a)):"function"==typeof n.onChange?(a.addClass(n.addClass),n.onChange.call(this,a)):"function"==typeof n.onAddClass?(a.addClass(n.addClass),n.onAddClass.call(this,a)):a.addClass(n.addClass));else s+n.threshold>=l&&("function"==typeof n.onChange&&"function"==typeof n.onAddClass?(a.addClass(n.addClass),n.onAddClass.call(this,a),n.onChange.call(this,a)):"function"==typeof n.onChange?(a.addClass(n.addClass),n.onChange.call(this,a)):"function"==typeof n.onAddClass?(a.addClass(n.addClass),n.onAddClass.call(this,a)):a.addClass(n.addClass))}else if(1==n.repeat){if("default"===n.start)l=a.offset().top-$(window).height();else if("string"==typeof n.start)l=$(n.start).offset().top-$(window).height();else l=n.start;if(null!=n.end){if("string"==typeof n.end)if("top"==n.endKey)d=$(n.end).offset().top-$(window).height();else if("number"==typeof n.endKey)d=$(n.end).offset().top+$(n.end).outerHeight()*n.endKey-$(window).height();else d=$(n.end).offset().top+$(n.end).outerHeight()-$(window).height();else d=n.end;(s+n.threshold<l||s+n.threshold>d)&&("function"==typeof n.onChange&&"function"==typeof n.onRemoveClass?(a.removeClass(n.addClass),n.onRemoveClass.call(this,a),n.onChange.call(this,a)):"function"==typeof n.onChange?(a.removeClass(n.addClass),n.onChange.call(this,a)):"function"==typeof n.onRemoveClass?(a.removeClass(n.addClass),n.onRemoveClass.call(this,a)):a.removeClass(n.addClass))}else s+n.threshold<l&&("function"==typeof n.onChange&&"function"==typeof n.onRemoveClass?(a.removeClass(n.addClass),n.onRemoveClass.call(this,a),n.onChange.call(this,a)):"function"==typeof n.onChange?(a.removeClass(n.addClass),n.onChange.call(this,a)):"function"==typeof n.onRemoveClass?(a.removeClass(n.addClass),n.onRemoveClass.call(this,a)):a.removeClass(n.addClass))}}})}).trigger("scroll"),$(window).on("resize",function(){$(this).trigger("scroll")})}};